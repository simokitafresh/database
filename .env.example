# Example environment configuration for the Adjusted OHLCV API
# Copy this file to `.env` and fill in real values.
# NOTE: Do NOT commit secrets in `.env`.

# Runtime environment
APP_ENV=production

# Database URLs
# - Application runtime (async driver)
DATABASE_URL=postgresql+asyncpg://USER:PASSWORD@HOST:5432/DBNAME
# - Alembic migrations (sync driver)
ALEMBIC_DATABASE_URL=postgresql+psycopg://USER:PASSWORD@HOST:5432/DBNAME

# Database connection pool settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_PRE_PING=true
DB_POOL_RECYCLE=3600
DB_ECHO=false

# API limits
API_MAX_SYMBOLS=5
API_MAX_ROWS=10000

# Fetcher settings (Yahoo Finance)
YF_REFETCH_DAYS=30
YF_REQ_CONCURRENCY=4
FETCH_TIMEOUT_SECONDS=8
FETCH_MAX_RETRIES=3
FETCH_BACKOFF_MAX_SECONDS=8.0
REQUEST_TIMEOUT_SECONDS=15

# Fetch Job Settings
FETCH_JOB_MAX_SYMBOLS=100
FETCH_JOB_MAX_DAYS=3650
FETCH_JOB_TIMEOUT=3600
FETCH_WORKER_CONCURRENCY=2
FETCH_PROGRESS_UPDATE_INTERVAL=5
FETCH_JOB_CLEANUP_DAYS=30
FETCH_MAX_CONCURRENT_JOBS=10

# CORS (comma separated or *). With * credentials are disabled.
CORS_ALLOW_ORIGINS=

# Logging
LOG_LEVEL=INFO

# Cron Job Settings
CRON_SECRET_TOKEN=your-secure-token-here-minimum-32-chars
CRON_BATCH_SIZE=50
CRON_UPDATE_DAYS=7

# Gunicorn/Uvicorn
WEB_CONCURRENCY=2
GUNICORN_TIMEOUT=120
PORT=8000

